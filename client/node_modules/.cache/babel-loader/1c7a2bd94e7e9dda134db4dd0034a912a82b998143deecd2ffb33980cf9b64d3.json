{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tonigaligimeno/Documents/BCS/Full-Stack Web App/Filmix/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tonigaligimeno/Documents/BCS/Full-Stack Web App/Filmix/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/tonigaligimeno/Documents/BCS/Full-Stack Web App/Filmix/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/tonigaligimeno/Documents/BCS/Full-Stack Web App/Filmix/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\nimport React from 'react';\nimport Usernavbar from '../components/Usernavbar';\n\nexport default function Movies({logout}) {\n  return (\n    <div>\n      <Usernavbar logout={logout} />\n    </div>\n  )\n}\n*/import{apikey}from'../config';import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=function Movies(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isReady=_useState4[0],setIsReady=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState({title:'',year:'',movie:''}),_useState8=_slicedToArray(_useState7,2),movie=_useState8[0],setMovie=_useState8[1];var handleChange=function handleChange(e){return setMovie(_objectSpread(_objectSpread({},movie),{},{movie:e.target.value}));};var handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);findMovie(movie.movie);};var findMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(movie){var url,res,_res$data,Title,Year,_Error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://omdbapi.com?t=\".concat(movie,\"&apikey=\").concat(apikey);_context.prev=1;_context.next=4;return axios.get(url);case 4:res=_context.sent;_res$data=res.data,Title=_res$data.Title,Year=_res$data.Year,_Error=_res$data.Error;setMovie({title:Title,year:Year,movie:''});setIsReady(true);setError(_Error);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);setIsReady(true);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function findMovie(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:movie.movie}),/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})]}),isReady?!error?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Title:\",movie.title]}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Release year:\",movie.year]})]}):/*#__PURE__*/_jsx(\"h1\",{children:error}):loading?/*#__PURE__*/_jsx(\"img\",{src:\"https://www.organizedthemes.com/wp-content/plugins/remind-me/js/loading.gif\",alt:\"loading\"}):null]});};export default Movies;","map":{"version":3,"names":["apikey","React","useState","axios","Movies","error","setError","isReady","setIsReady","loading","setLoading","title","year","movie","setMovie","handleChange","e","target","value","handleSubmit","preventDefault","findMovie","url","get","res","data","Title","Year","Error","message"],"sources":["/Users/tonigaligimeno/Documents/BCS/Full-Stack Web App/Filmix/client/src/views/Movies.js"],"sourcesContent":["/*\nimport React from 'react';\nimport Usernavbar from '../components/Usernavbar';\n\nexport default function Movies({logout}) {\n  return (\n    <div>\n      <Usernavbar logout={logout} />\n    </div>\n  )\n}\n*/\nimport {apikey} from '../config';\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nconst Movies = () => {\n  const [ error, setError ] = useState('');\n  const [ isReady, setIsReady ] = useState(false);\n  const [ loading, setLoading ] = useState(false);\n  const [ movie, setMovie ] = useState({\n    title: '',\n    year: '',\n    movie: ''\n  });\n\n  const handleChange = (e) => setMovie({ ...movie, movie: e.target.value });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    findMovie(movie.movie);\n  };\n  const findMovie = async (movie) => {\n    let url = `https://omdbapi.com?t=${movie}&apikey=${apikey}`;\n    try {\n      const res = await axios.get(url);\n      let { Title, Year, Error } = res.data;\n      setMovie({ title: Title, year: Year, movie: '' });\n      setIsReady(true);\n      setError(Error);\n    } catch (error) {\n      setError(error.message);\n      setIsReady(true);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input onChange={handleChange} value={movie.movie} />\n        <button>Submit</button>\n      </form>\n      {isReady ? !error ? (\n        <div>\n          <h1>Title:{movie.title}</h1>\n          <h1>Release year:{movie.year}</h1>\n        </div>\n      ) : (\n        <h1>{error}</h1>\n      ) : loading ? (\n        <img src=\"https://www.organizedthemes.com/wp-content/plugins/remind-me/js/loading.gif\" alt=\"loading\" />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Movies;"],"mappings":"unBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,OAAQA,MAAM,KAAO,WAAW,CAChC,MAAOC,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,cAA4BF,QAAQ,CAAC,EAAE,CAAC,wCAAhCG,KAAK,eAAEC,QAAQ,eACvB,eAAgCJ,QAAQ,CAAC,KAAK,CAAC,yCAAvCK,OAAO,eAAEC,UAAU,eAC3B,eAAgCN,QAAQ,CAAC,KAAK,CAAC,yCAAvCO,OAAO,eAAEC,UAAU,eAC3B,eAA4BR,QAAQ,CAAC,CACnCS,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EACT,CAAC,CAAC,yCAJMA,KAAK,eAAEC,QAAQ,eAMvB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,QAAKF,SAAQ,gCAAMD,KAAK,MAAEA,KAAK,CAAEG,CAAC,CAACC,MAAM,CAACC,KAAK,GAAG,GAEzE,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIH,CAAC,CAAK,CAC1BA,CAAC,CAACI,cAAc,EAAE,CAClBV,UAAU,CAAC,IAAI,CAAC,CAChBW,SAAS,CAACR,KAAK,CAACA,KAAK,CAAC,CACxB,CAAC,CACD,GAAMQ,UAAS,4FAAG,iBAAOR,KAAK,4JACxBS,GAAG,iCAA4BT,KAAK,oBAAWb,MAAM,wCAErCG,MAAK,CAACoB,GAAG,CAACD,GAAG,CAAC,QAA1BE,GAAG,yBACoBA,GAAG,CAACC,IAAI,CAA/BC,KAAK,WAALA,KAAK,CAAEC,IAAI,WAAJA,IAAI,CAAEC,MAAK,WAALA,KAAK,CACxBd,QAAQ,CAAC,CAAEH,KAAK,CAAEe,KAAK,CAAEd,IAAI,CAAEe,IAAI,CAAEd,KAAK,CAAE,EAAG,CAAC,CAAC,CACjDL,UAAU,CAAC,IAAI,CAAC,CAChBF,QAAQ,CAACsB,MAAK,CAAC,CAAC,iFAEhBtB,QAAQ,CAAC,YAAMuB,OAAO,CAAC,CACvBrB,UAAU,CAAC,IAAI,CAAC,CAAC,qEAEpB,kBAZKa,UAAS,4CAYd,CAED,mBACE,oCACE,cAAM,QAAQ,CAAEF,YAAa,wBAC3B,cAAO,QAAQ,CAAEJ,YAAa,CAAC,KAAK,CAAEF,KAAK,CAACA,KAAM,EAAG,cACrD,kCAAuB,GAClB,CACNN,OAAO,CAAG,CAACF,KAAK,cACf,oCACE,+BAAWQ,KAAK,CAACF,KAAK,GAAM,cAC5B,sCAAkBE,KAAK,CAACD,IAAI,GAAM,GAC9B,cAEN,oBAAKP,KAAK,EACX,CAAGI,OAAO,cACT,YAAK,GAAG,CAAC,6EAA6E,CAAC,GAAG,CAAC,SAAS,EAAG,CACrG,IAAI,GACJ,CAEV,CAAC,CAED,cAAeL,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}